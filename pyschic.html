<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pyschic Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
</head>
<body>
    
    <!--

        2. You're going to make a game just like the one in the video. Essentially, the app randomly picks a letter, and the user has to guess which letter the app chose. Put the following text on your page:

        3. Guess what letter I'm thinking of

        4. Wins: (# of times the user has guessed the letter correctly)

        5. Losses: (# of times the user has failed to guess the letter correctly after exhausting all guesses)

        6. Guesses Left: (# of guesses left. This will update)

        7. Your Guesses So Far: (the specific letters that the user typed. Display these until the user either wins or loses.)

        8. When the player wins, increase the Wins counter and start the game over again (without refreshing the page).

        9. When the player loses, increase the Losses counter and restart the game without a page refresh (just like when the user wins).

    -->
        <!--this is the empty div that is updated by javascript-->
        <div id="game">Select a letter on the Keyboard to guess which letter the computer chose</div>

    <script>
        //this is the string that the computer will randomly choose a letter from (it is turned into an array by the split("") method)
        var alphabet = "abcdefghijklmnopqrstuvwxyz".split("");
         
        //computer randomly chooses a number from the string
        //step 1 complete; we now have the randomly generated computer guess
        var computerGuess = alphabet[Math.floor(Math.random() * alphabet.length)];
        console.log("this is the pc guess: " + computerGuess);

        //initialize variables for tracking the wins, losses, and ties, as well as users previous guess
        var wins = 0;
        console.log(wins)//just to check
        var losses = 0;
        console.log(losses)//just to check
        var previousGuess = []; //will hold the user's guesses to be displayed 
        var guessesLeft = 9;



        //this function is run whenever the user presses a key, this tracks the users guess
        //document (the DOM) has 3 similar methods; onkeydown onkeypress and onkeyup
        document.onkeyup = function(event) {

            //This makes userGuess = the key that the user pressed
            var userGuess = event.key;
            console.log(userGuess);

            //Previous guess is given the key that the user clicked
            previousGuess.push(userGuess);
            //console is displaying the newly updated previousGuess arrary 
            console.log("This should be the previous guess list " + previousGuess);
            

            //computer's choice is compared to the user's guess
            if(userGuess === "a" || 
            userGuess === "b"||
            userGuess === "c" ||
            userGuess === "d" ||
            userGuess === "e" ||
            userGuess === "f" ||
            userGuess === "g" ||
            userGuess === "h" ||
            userGuess === "i" ||
            userGuess === "j" ||
            userGuess === "k" ||
            userGuess === "l" ||
            userGuess === "m" ||
            userGuess === "n" ||
            userGuess === "o" ||
            userGuess === "p" ||
            userGuess === "q" ||
            userGuess === "r" ||
            userGuess === "s" ||
            userGuess === "t" ||
            userGuess === "u" ||
            userGuess === "v" ||
            userGuess === "w" ||
            userGuess === "x" ||
            userGuess === "y" ||
            userGuess === "z" )
            {
                // compare the computer guess to the user's guess and change the score stats accordingly
                if(userGuess !== computerGuess){
                    //subtract number of guesses by -- previousGuess
                    guessesLeft--;
                    console.log("Guess left " + guessesLeft);
                }
                if(guessesLeft === 0){
                    //rest the number of guessesLeft back to 9
                    guessesLeft = 9;
                    //and increment losses++
                    losses++;
                    console.log(losses);
                    //clear out the previous guess list
                    previousGuess=[];
                }
                if(userGuess === computerGuess){
                    //increment wins up 
                    wins++
                    console.log(wins);
                    //nothing done to the losses
                    //reset the guessesLeft total
                    guessesLeft = 9;
                    //clear out the previous guess list
                    previousGuess=[];
                }
            }

            
        //creating a variable to hold our new HTML. Our HTML now keeps track of the user and computer guesses, and wins/loses/ties
        var html =
          "Guess what letter I am thinking of! " +
          //show the wins
          "<p>wins: " + wins + "</p>" +
          //show the losses
          "<p>losses: " + losses + "</p>" +
          //display the guesses the player has left
          "<p>guesses left: " + guessesLeft + "</p>" +
          //show what the user's guesses so far
          "<p>Your Guesses so far: " + previousGuess + "</p>";
          // Set the inner HTML contents of the #game div to our html string
        
        
        document.getElementById("game").innerHTML = html;
        //you could also use DOM method .querySelector() which targets css selector
        }
        



    </script>
    
</body>
</html>